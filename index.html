<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnaliyun.oss-cn-hangzhou.aliyuncs.com/js/mplayer.js"></script>
    <style>
        div{
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: coral;
        }
        button{
            background-color: #ffffff;
            border: none;
            font-size: 26px;
            padding: 5px 10px;
            box-sizing: border-box;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div>
    <button onclick="playClick()">点我一下</button>

</div>

<script>
    let str = "何美琪是沙雕";
    let make_mp3 = "https://tts.baidu.com/text2audio?cuid=baike&lan=zh&ctp=1&pdt=301&vol=9&rate=32&per=0&tex=" + encodeURI(str);
    function playClick() {
        let player = new MPlayer(make_mp3, {
            loop: false,
            volume: 1,
            auto: true,
            index: 1,
            analyser: {
                size: 1024,
            }
        });
        player.onload = function() {
            console.log("=开始播放=");
            this.play()
        };

        player.onended = function() {
            console.log("=播放完成=");
        };
    }
</script>
</body>
</html>
